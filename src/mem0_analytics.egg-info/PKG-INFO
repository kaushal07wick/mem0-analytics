Metadata-Version: 2.4
Name: mem0-analytics
Version: 0.1.0
Summary: Lightweight local analytics and observability layer for Mem0-based systems
Home-page: https://github.com/kaushal07wick/mem0-analytics
Author: Kaushal
License: MIT
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE.md
Requires-Dist: pandas>=2.0.0
Requires-Dist: numpy>=1.25.0
Requires-Dist: psutil>=5.9.0
Requires-Dist: rich>=13.0.0
Requires-Dist: mem0ai>=0.1.0
Dynamic: author
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# ğŸ§  Mem0 Analytics

> Real-time analytics intelligence for memory-driven AI systems

[![Python](https://img.shields.io/badge/python-3.10+-blue.svg)](https://www.python.org/)
[![PostgreSQL](https://img.shields.io/badge/Postgres-analytics%20backend-blue?logo=postgresql)](https://www.postgresql.org/)
[![PostHog](https://img.shields.io/badge/PostHog-dashboard-orange?logo=posthog)](https://posthog.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Contributions welcome](https://img.shields.io/badge/contributions-welcome-brightgreen.svg)](#-contributing)

---

## ğŸ§© Overview

**Mem0 Analytics** is the **observability and telemetry layer** for the [Mem0](https://github.com/mem0ai/mem0) ecosystem â€” designed to measure, understand, and optimize memory systems for LLMs in real time.

It captures **low-level metrics** from memory operations (`add`, `search`, etc.), stores them in **PostgreSQL**, and continuously aggregates and pushes **key performance indicators (KPIs)** to **PostHog dashboards** every 60 seconds.
Engineered for **infra engineers**, **data scientists**, and **AI systems teams** building RAG or agentic pipelines.

---

## ğŸš€ Live Dashboard

![dashboard](./static/dashboard.png)

ğŸ”— [**View on PostHog â†’**](https://us.posthog.com/shared/0_gFtZ5fE8WhDNVXKlTHh2i4v31uSQ)

**Monitors:**

* âš¡ **Latency & Tail Performance** â€” Average and P95 latency across models
* ğŸ§  **Pipeline Breakdown** â€” Embedding, vector, and LLM stage timing
* ğŸ’¾ **Cache Efficiency** â€” Cache hit ratio and embedding reuse
* ğŸ’° **Cost & Token Utilization** â€” Cost-to-latency trade-off metrics
* ğŸ§© **System Health** â€” Error rate, CPU, and memory footprint

---

## âš™ï¸ Core Components

| File           | Role                                                    |
| -------------- | ------------------------------------------------------- |
| `analytics.py` | Instruments Mem0 calls and logs metrics to PostgreSQL   |
| `daemon.py`    | Aggregates metrics, computes KPIs, and syncs to PostHog |
| `schema.sql`   | Defines raw and summary metric tables                   |

---

## ğŸ“Š Metrics Tracked

| Category             | Metrics                                                       | Description                              |
| -------------------- | ------------------------------------------------------------- | ---------------------------------------- |
| **Performance**      | `latency_ms`, `latency_p95`, `ttfr_ms`                        | End-to-end, tail, and cold-start latency |
| **Tokens & Cost**    | `prompt_tokens`, `completion_tokens`, `estimated_cost_usd`    | Usage and per-call cost                  |
| **System Resources** | `cpu_percent`, `mem_used_mb`, `disk_read_kb`, `disk_write_kb` | Hardware performance                     |
| **Reliability**      | `error_rate`, `reliability_index`                             | Service stability and predictability     |
| **Efficiency**       | `cache_hit_ratio`, `token_efficiency`, `vector_contribution`  | Caching and throughput performance       |

---

## ğŸ“ˆ Live Insights Snapshot

* ğŸš€ **smolm2** is **4.7Ã— faster** than `gpt-5-nano`
* âš ï¸ **gpt-4o-mini** shows **6.9Ã— latency spikes** â†’ add circuit breaker
* ğŸ’¾ **Cache hit rate <1%** â†’ major optimization opportunity
* ğŸ§© **Vector stores (Qdrant / ChromaDB)** <10 ms latency â†’ not a bottleneck
* ğŸ§  **TTFR <10 ms** â†’ no cold-start overhead

---

## ğŸ§± Architecture

```
Chat Agent â”€â”
             â”‚â†’ analytics.py (raw metrics â†’ PostgreSQL)
Daemon   â”€â”€â”€â”€â”˜
             â†“
       PostgreSQL (mem0_metrics_chat)
             â†“
     daemon.py â†’ aggregates â†’ PostHog dashboard
```

> **Postgres acts as the raw telemetry sink; the daemon performs rolling aggregation and pushes summarized KPIs to PostHog every minute.**

---

## ğŸ”§ Quick Start

```bash
# Clone repo
git clone https://github.com/mem0ai/mem0-analytics.git
cd mem0-analytics

# Configure environment
cp .env.example .env
# Add PG_DSN, POSTHOG_API_KEY, and other variables

# Initialize database
psql -U <user> -d mem0_analytics -f schema.sql

# Run analytics tracker
python analytics.py

# Start continuous aggregator
python daemon.py
```

---

## ğŸ’» Example Dashboard Visuals

| Metric                 | Visualization | Insight                       |
| ---------------------- | ------------- | ----------------------------- |
| Avg vs P95 Latency     | Line chart    | Detect performance drift      |
| Pipeline Breakdown     | Stacked bar   | Embedding â†’ Vector â†’ LLM time |
| Cache Hit Rate (%)     | Area          | Measure caching efficiency    |
| Token Usage vs Latency | Scatter       | Model efficiency comparison   |
| CPU & Memory           | Bar           | Resource footprint tracking   |

---

## ğŸ”¬ Engineering Highlights

* Built on **PostgreSQL** + **SQLAlchemy**
* Real-time sync to **PostHog** via batch API
* Clean modular structure (analytics + daemon)
* `.env`-based configuration
* Exports to CSV for offline analysis
* Extensible for new metrics, LLMs, and stores

---

## ğŸ§­ Roadmap

### ğŸ”® Upcoming LLM Integrations

* [x] OpenAI â€“ `gpt-4o-mini`, `gpt-5-nano`
* [x] Ollama â€“ `smollm2`, `smollm2:135m`
* [ ] Anthropic â€“ `claude-3-opus`, `claude-3-sonnet`
* [ ] Groq â€“ `mixtral`, `llama3-groq`
* [ ] xAI â€“ `Grok-2`
* [ ] Meta â€“ `LLaMA-3.1`, `LLaMA-4`
* [ ] Google â€“ `Gemini-2`
* [ ] DeepSeek â€“ `DeepSeek-Coder`, `DeepSeek-Chat`

### ğŸ§  Upcoming Vector Stores

* [x] Qdrant (Remote)
* [x] ChromaDB (Local)
* [ ] Pinecone
* [ ] Weaviate
* [ ] Milvus
* [ ] Redis Vector
* [ ] LanceDB
* [ ] FAISS

### ğŸ§° Infrastructure Extensions

* [ ] Prometheus + Grafana â€“ real-time system metrics
* [ ] OpenTelemetry â€“ unified tracing for RAG workflows
* [ ] MinIO / S3 â€“ long-term metric archival
* [ ] Airflow / Prefect â€“ scheduled aggregation jobs

---

## ğŸ¯ Optimization Priorities

* **Fix cache effectiveness** â†’ 0.7 % â†’ 30 % target â†’ ~30 % latency reduction
* **Implement cost tracking** â†’ enable cost-based routing
* **Add circuit breaker for gpt-4o-mini** â†’ prevent latency spikes
* **Optimize `smollm2` embedding** â†’ reclaim 20 % latency
* **Monitor P95 latency** â†’ detect tail degradation early

---

## ğŸ¤ Contributing

Pull requests are welcome!
Add new metrics, providers, or visualizations.

```bash
git checkout -b feature/add-groq-support
git commit -am "Add Groq inference metrics"
git push origin feature/add-groq-support
```

---

## ğŸ“œ License

Released under the **MIT License**.
See [`LICENSE`](./LICENSE) for details.

---

## ğŸ‘¤ Author

**Kaushal**
ğŸ“¬ Built independently to demonstrate real-time observability for Mem0â€™s intelligent memory infrastructure.
Focused on making AI systems measurable, efficient, and reliable.
